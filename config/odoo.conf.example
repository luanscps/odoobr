[options]
# ============================================
# Database Configuration
# ============================================
db_host = odoobr-postgres
db_port = 5432
db_user = odoo
db_password = odoo2026

# Permite criar/gerenciar databases pela interface web
list_db = True

# Filtro de databases (.* permite qualquer nome)
db_filter = .*

# Não especificar db_name para permitir múltiplos databases

# ============================================
# Server Configuration
# ============================================
http_port = 8069
longpolling_port = 8072
proxy_mode = True

# ============================================
# Paths - MÚLTIPLOS REPOSITÓRIOS OCA
# ============================================
# IMPORTANTE: Incluir TODOS os repositórios OCA necessários!
# Odoo NÃO busca recursivamente em subdiretórios.
#
# Repositórios obrigatórios para NFe:
# - l10n-brazil: Módulos de localização brasileira
# - product-attribute: Contém uom_alias (dependência do l10n_br_fiscal)
#
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/mnt/extra-addons/l10n-brazil,/mnt/extra-addons/product-attribute,/mnt/extra-addons
data_dir = /var/lib/odoo

# ============================================
# Logging
# ============================================
log_level = info
log_handler = :INFO
logfile = /var/log/odoo/odoo.log

# ============================================
# Security
# ============================================
# Master password para gerenciar databases
admin_passwd = odoo2026

# ============================================
# Performance
# ============================================
# Memória máxima por worker (2.5 GB)
limit_memory_hard = 2684354560

# Memória soft limit (2 GB)
limit_memory_soft = 2147483648

# Número máximo de requisições por worker
limit_request = 8192

# Timeout CPU (10 minutos)
limit_time_cpu = 600

# Timeout real (20 minutos)
limit_time_real = 1200

# Número de threads cron
max_cron_threads = 2

# Número de workers (0 = modo desenvolvimento, >0 = produção)
# Para desenvolvimento use 0, para produção use (CPU cores * 2) + 1
workers = 0

# ============================================
# Brasil
# ============================================
# Não carregar dados de demonstração
without_demo = all

# ============================================
# NOTAS:
# ============================================
# 1. Copie este arquivo para odoo.conf e ajuste os valores
# 2. Não commite odoo.conf com senhas reais
# 3. Para produção, altere admin_passwd e db_password
# 4. workers=0 para desenvolvimento, >0 para produção
# 5. list_db=False em produção por segurança
# 6. Os caminhos l10n-brazil E product-attribute são obrigatórios!
# 7. Sem product-attribute, l10n_br_fiscal falha (depende de uom_alias)
# ============================================
